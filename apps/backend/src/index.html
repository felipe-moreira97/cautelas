<html>
    <body>
        <h1>Hello World!</h1>
        <button id="abrir">Abrir</button>
        <button id="novo">Novo</button>
        <button id="salvar">Salvar</button>
        <p id="text"></p>
    </body>
    <script>
        document.getElementById('abrir').addEventListener('click',async () => {
            const livro = await window.electronAPI.abrirLivro()
            document.getElementById('text').innerText = JSON.stringify(livro.props)
        })

        document.getElementById('novo').addEventListener('click',async () => {
            const livro = await window.electronAPI.novoLivro()
            document.getElementById('text').innerText = JSON.stringify(livro.props)
        })

        document.getElementById('salvar').addEventListener('click',async () => {
            const livroProps = JSON.parse(document.getElementById('text').innerText)
            window.electronAPI.salvarLivro(livroProps).then(l => { 
                document.getElementById('text').innerText = JSON.stringify(l.props)
            })
        })
    </script>
</html>